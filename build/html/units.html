<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Logic Units (units.py) &#8212; A 16-bit cpu in Python 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Memory (memory.py)" href="memory.html" />
    <link rel="prev" title="16-bit CPU built in Python documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="logic-units-units-py">
<h1>Logic Units (units.py)<a class="headerlink" href="#logic-units-units-py" title="Link to this heading">¶</a></h1>
<p>This page explains the inner logic gate setup of the Arithmetic and Logic Unit. To understand information on this page requires a basic understanding of
truth tables and logic gates.</p>
<section id="logic-gates">
<span id="id1"></span><h2>Logic Gates<a class="headerlink" href="#logic-gates" title="Link to this heading">¶</a></h2>
<p>This is the most fundemental section in the CPU. All logic gates can be
derived from the <strong>NAND</strong> gate.</p>
<section id="nand-gate">
<h3>NAND GATE<a class="headerlink" href="#nand-gate" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>OUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
<p>The simplest method in which this is implemented in Python is:
I use the <cite>&amp;</cite> binary operater as other solution involved <strong>if</strong>’s
which didn’t seem as elegant.</p>
<div class="math notranslate nohighlight">
\[bit = -1 \cdot (int(a \&amp; b) - 1)\]</div>
</section>
<section id="inverted-gate">
<h3>INVERTED GATE<a class="headerlink" href="#inverted-gate" title="Link to this heading">¶</a></h3>
<p>This gate can be created by taking NAND where a is both a and b.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>OUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="and-gate">
<h3>AND GATE<a class="headerlink" href="#and-gate" title="Link to this heading">¶</a></h3>
<p>The AND gate is an inverted NAND.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>OUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="or-gate">
<h3>OR GATE<a class="headerlink" href="#or-gate" title="Link to this heading">¶</a></h3>
<p>The OR gate is created by inverting both inputs then passing
the inverted inputs into a NAND gate.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>OUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="exclusive-or-gate-xor">
<h3>EXCLUSIVE OR GATE (XOR)<a class="headerlink" href="#exclusive-or-gate-xor" title="Link to this heading">¶</a></h3>
<p>The XOR gate descriminates based on the input side. To create
one, inputs are fed into a NAND gate. The output of this gate
is discriminated against the NAND of either A or B where the
final bit is then inverted in and AND.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>OUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="bit-variants">
<h3>16-Bit Variants<a class="headerlink" href="#bit-variants" title="Link to this heading">¶</a></h3>
<p>Implementing a 16-bit versions of the logic gates is as simple as taking
two 16-bit binary numbers and comparing each index of each value with a
respective logic gate. Look in <cite>units.py</cite> at line 40 to see the implementation.</p>
<p>A <cite>16</cite> in the signature means that method uses 16-bit numbers.</p>
</section>
</section>
<section id="half-adder">
<h2>Half-Adder<a class="headerlink" href="#half-adder" title="Link to this heading">¶</a></h2>
<p>The Half-Adder is a logical unit that adds two bits together. This will allow
us to get a maximum value of 3:</p>
<div class="math notranslate nohighlight">
\[2^{2} -1 = 3\]</div>
<p>A Half-Adder will produce a <strong>high</strong> and <strong>low</strong> bit. Where high is 1 if both values
are 1 (1 + 1 = 2 which is <code class="docutils literal notranslate"><span class="pre">0b10</span></code> in binary). Which can be constructed by process
of elimination of bits.</p>
<p><strong>HALF-ADDER TRUTH TABLE</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>HIGH</p></th>
<th class="head"><p>LOW</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="full-adder">
<h2>Full-Adder<a class="headerlink" href="#full-adder" title="Link to this heading">¶</a></h2>
<p>A Full-Adder are two Half-Adders linked together where the value is <cite>allowed</cite> to overflow.
This overflow is called a carry indicating that the number it too large to fit in the
current buffer.</p>
<p>The Full-Adder takes in three bits; A, B, Carry. And will produce a <strong>high</strong> and <strong>low</strong> bit.</p>
<p><strong>FULL-ADDER TRUTH TABLE</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>CARRY</p></th>
<th class="head"><p>HIGH</p></th>
<th class="head"><p>LOW</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="multi-bit-adder">
<h2>Multi-Bit-Adder<a class="headerlink" href="#multi-bit-adder" title="Link to this heading">¶</a></h2>
<p>The Multi-Bit-Adder are two or more Full-Adders linked where the carry bit of
the previous Full-Adder is piped into the current Full-Adder; unless it’s the
last adder, in-that-case the bit is dropped.</p>
<p><strong>MULTI-BIT-ADDER TRUTH TABLE</strong></p>
<p>These are all the possible inputs for two 2-bit numbers and a 1-bit number.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A1</p></th>
<th class="head"><p>A2</p></th>
<th class="head"><p>B1</p></th>
<th class="head"><p>B2</p></th>
<th class="head"><p>CARRY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p><strong>DATA BREAKDOWN</strong></p>
<p>The maximum value of a 3-bit number is 7;</p>
<div class="math notranslate nohighlight">
\[2^{3} -1 = 7\]</div>
<p>The binary number is being broken-down into individual
bits sorted right to left starting at O2. The decimal
header is there to help understand the numbering.</p>
<p><strong>O1</strong> is the expected output for the low bits</p>
<p><strong>O2</strong> is the expected output for the high bits</p>
<p><strong>CARRY</strong> is the expected carry output.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SUM OF ALL 3 in binary</p></th>
<th class="head"><p>DECIMAL</p></th>
<th class="head"><p>CARRY</p></th>
<th class="head"><p>O1</p></th>
<th class="head"><p>O2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>101</p></td>
<td><p>5</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>110</p></td>
<td><p>6</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>111</p></td>
<td><p>7</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p><strong>This table then corresponds with the following output below</strong></p>
<p>First we add the low bits. If there are any carry bits add
these to the high bits. If there is an overflow change the bit
to 1.</p>
<p>Output all low bits because the values will not change if more numbers
are added.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Low bit sum = A2+B2+CARRY</p></th>
<th class="head"></th>
<th class="head"><p>High bit sum = A1+B1+(Low bit sum)</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HIGH</p></td>
<td><p>LOW - O2</p></td>
<td><p>HIGH - CARRY OUT</p></td>
<td><p>LOW - O1</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="bit-adder">
<h2>16-Bit-Adder<a class="headerlink" href="#bit-adder" title="Link to this heading">¶</a></h2>
<p>The 16-Bit-Adder functions in the same way the Multi-Bit-Adder works; where the
high bit is carried over from the previous Full-Adder. Chaining 16 Full-Adders
together gives you a 16-Bit-Adder. The last high value is dicarded.</p>
<p>To use the <code class="docutils literal notranslate"><span class="pre">BitAdder16</span></code> class call it’s method <code class="docutils literal notranslate"><span class="pre">add</span></code>.</p>
<p>It takes in two <cite>16-bit binary number</cite> arguments.</p>
<p>The return value is the added result <cite>16-bit tuple result</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bitadder_16</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mb">0b11</span><span class="p">,</span> <span class="mb">0b101</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The output of the basic 16-bit units will return tuple values as
it keeps the virtual pins seperate.
A utility function is implemented to convert tuples to binary values.
<span class="xref std std-ref">tuple-to-binary</span></p>
</div>
</section>
<section id="bit-incrementer">
<span id="increment-16"></span><h2>16-Bit-Incrementer<a class="headerlink" href="#bit-incrementer" title="Link to this heading">¶</a></h2>
<p>A 16-bit increment can be built be connecting a 16-Bit-Adder to a constant signal; <cite>1</cite>.
Then we need to take in a 16-bit binary number (<cite>optionally</cite>) to tell the incrementer
where to start.</p>
<p>To use the <code class="docutils literal notranslate"><span class="pre">Incremenet16</span></code> class call it’s method <code class="docutils literal notranslate"><span class="pre">inc</span></code>.</p>
<p>It takes in an <cite>optional</cite> argument of a <cite>16-bit binary number</cite>.</p>
<p>The return value is the <cite>incremented tuple value</cite>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>A full 16-bit number is not required. The <code class="docutils literal notranslate"><span class="pre">inc</span></code> method implements the <code class="docutils literal notranslate"><span class="pre">BitAdder16</span></code>
class which implements 16 Full-Adders. If you recall, there is a utility function in
this method to generate 16 bits where the bits are n &lt; 17.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">increment_16</span><span class="o">.</span><span class="n">inc</span><span class="p">()</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">increment_16</span><span class="o">.</span><span class="n">inc</span><span class="p">(</span><span class="mb">0b101</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bit-subtracter">
<h2>16-Bit-Subtracter<a class="headerlink" href="#bit-subtracter" title="Link to this heading">¶</a></h2>
<p>The 16-Bit-Subtracter subtracts two 16-bit numbers. It supports negative numbers.
If a binary number starts with a ‘1’ that signals that this binary number is negative.
This is known as “Two’s Complement” (Learn more about <a class="reference external" href="https://en.wikipedia.org/wiki/Two%27s_complement">Two’s Complement</a>)</p>
<blockquote>
<div></div></blockquote>
<p>In order to implement this method we need follows:</p>
<div class="math notranslate nohighlight">
\[a - b = c \implies -(a - b) = -c\]</div>
<div class="math notranslate nohighlight">
\[-(a-b) = -c \implies (-a)+b = -c\]</div>
<div class="math notranslate nohighlight">
\[(-a)+b = -c \implies a + (-b) = c\]</div>
<p>From the equation above we need an <cite>inverted</cite> number <cite>added</cite> to a normal binary number. <cite>1-bit is
is added to account for the for the **high** bit in the inverted number (A.K.A Two’s Complement)</cite></p>
<p><strong>SUBTRACTION TRUTH TABLE</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>NOT B</p></th>
<th class="head"><p>A + NOT B + 1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>01</p></td>
<td><p>01</p></td>
<td><p>10</p></td>
<td><p>00</p></td>
</tr>
<tr class="row-odd"><td><p>01</p></td>
<td><p>00</p></td>
<td><p>11</p></td>
<td><p>01</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>11</p></td>
<td><p>00</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>10</p></td>
<td><p>01</p></td>
<td><p>01</p></td>
</tr>
</tbody>
</table>
<p>The high bit (most significant bit) indicates if the number is negative.</p>
<p>To use the <code class="docutils literal notranslate"><span class="pre">Subtract16</span></code> class call it’s method <code class="docutils literal notranslate"><span class="pre">sub</span></code>.</p>
<p>It takes in the <cite>16-bit binary number</cite> arguments.</p>
<p>The return value is the subtracted result <cite>16-bit tuple result</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subract_16</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="mb">0b10</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">subtract_16</span><span class="o">.</span><span class="n">inc</span><span class="p">(</span><span class="mb">0b11</span><span class="p">,</span> <span class="mb">0b100</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="switches">
<span id="stream-bits"></span><h2>Switches<a class="headerlink" href="#switches" title="Link to this heading">¶</a></h2>
<p>A <cite>switch</cite> is required to choose between different inputs and outputs.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">select</span></code> method in the <code class="docutils literal notranslate"><span class="pre">Switch</span></code> class controls which input to choose.
This is done by <cite>inverting</cite> the first stream then discriminating against each
input. Although callable, the single bit <code class="docutils literal notranslate"><span class="pre">select</span></code> should not be used directly; opt
in to using the 16 bit variant.</p>
<p>The 16-bit variant of <code class="docutils literal notranslate"><span class="pre">select</span></code> is called <code class="docutils literal notranslate"><span class="pre">select_16</span></code> and requires to 16-bit
binary values and a 1-bit stream value.</p>
<p>The arguments required are two <cite>16-bit binary numbers</cite> and a one <cite>1-bit stream bit</cite>.</p>
<p>The return value of the 16-bit variant is a <cite>16-bit binary number</cite>.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Due the implementation of the <span class="xref std std-ref">generate16Bits</span> utility function, the stream
bit needs to be 16-bits long therefore the stream bit it used to generate
16 stream bits using the <code class="docutils literal notranslate"><span class="pre">generateStreamBits</span></code> function.</p>
</div>
</section>
<section id="logic-unit">
<h2>Logic Unit<a class="headerlink" href="#logic-unit" title="Link to this heading">¶</a></h2>
<p>A <cite>Logic Unit</cite> determines various <cite>truths</cite> or <cite>outputs</cite> of supplied values.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>OP1</p></th>
<th class="head"><p>OP2</p></th>
<th class="head"><p>OUTPUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>X and Y</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>X or Y</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>X xor Y</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>invert X</p></td>
</tr>
</tbody>
</table>
<p>To use the <code class="docutils literal notranslate"><span class="pre">LogicUnit</span></code> class call it’s method <code class="docutils literal notranslate"><span class="pre">calc</span></code>.</p>
<p>It takes in two <cite>16-bit binary number</cite> arguments and two <cite>operation codes</cite>.</p>
<p>The return result is a <cite>16-bit binary number</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logic_unit</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">1</span>

<span class="n">logic_unit</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mb">0b11</span><span class="p">,</span> <span class="mb">0b100</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">7</span>

<span class="n">logic_unit</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mb">0b100</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">65531</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The output values are <strong>numbers</strong>. The representation does not matter.
Python will display them as base-10 decimal. The only thing that matters
with the output is that it is of type <strong>int</strong> (meaning it is an instance of the
base integer class in Python).</p>
</div>
</section>
<section id="arithmetic-unit">
<h2>Arithmetic Unit<a class="headerlink" href="#arithmetic-unit" title="Link to this heading">¶</a></h2>
<p>The <cite>Arithmetic Unit</cite> functions in much the same way as the <cite>Logic Unit</cite>
except it’s <cite>opcodes</cite> correspond to different actions.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>OP1</p></th>
<th class="head"><p>OP2</p></th>
<th class="head"><p>OUTPUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>X + Y</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>X - Y</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>X - 1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>X - 1</p></td>
</tr>
</tbody>
</table>
<p>To use the <code class="docutils literal notranslate"><span class="pre">ArithmeticUnit</span></code> class call it’s method <code class="docutils literal notranslate"><span class="pre">calc</span></code>.</p>
<p>It takes in two <cite>16-bit binary number</cite> arguments and two <cite>operation codes</cite>.</p>
<p>The return result is a <cite>16-bit binary number</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arithmetic</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mb">0b101</span><span class="p">,</span> <span class="mb">0b100</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">9</span>

<span class="n">arithmetic</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mb">0b101</span><span class="p">,</span> <span class="mb">0b100</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="alu">
<h2>ALU<a class="headerlink" href="#alu" title="Link to this heading">¶</a></h2>
<p>The <cite>ALU</cite> stands for <cite>Arithmetic and Logic Unit</cite>. As you may have guessed, this
combines the functionality of the <cite>Arithmetic Unit</cite> and the <cite>Logic Unit</cite>.</p>
<p>This is done by using the <code class="docutils literal notranslate"><span class="pre">Switch</span></code> class method <code class="docutils literal notranslate"><span class="pre">select_16</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Arithmetic or Logic</p></th>
<th class="head"><p>OP1</p></th>
<th class="head"><p>OP2</p></th>
<th class="head"><p>16-bits</p></th>
<th class="head"><p>16-bits</p></th>
<th class="head"><p>OUTPUT</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X AND Y</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X OR Y</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X XOR Y</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>INVERT X</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X + Y</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X - Y</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X + 1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>ANY</p></td>
<td><p>ANY</p></td>
<td><p>X - 1</p></td>
</tr>
</tbody>
</table>
<p>A <cite>zero-replace</cite> and <cite>swap</cite> are added in.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Swap</strong>, switch the places of X and Y</p></li>
<li><p><strong>Zero-Replace</strong>, switches the output of the first operand to 0</p></li>
</ul>
</div></blockquote>
<p>It takes in two <cite>16-bit binary number</cite> arguments, <strong>four</strong> <cite>operation codes</cite>, and one <cite>1-bit stream bit</cite>
to choose between the <cite>Logic Unit</cite> and the <cite>Arithmetic Unit</cite>.</p>
<p>The return result is a <cite>16-bit binary number</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># alu.calc(logic_or_arith, op1, op2, zero_replace, swap, binary_number, binary_number)</span>

<span class="n">alu</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mb">0b11</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">2</span>

<span class="n">alu</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="mi">65535</span>
</pre></div>
</div>
</section>
<section id="conditional-unit">
<h2>Conditional Unit<a class="headerlink" href="#conditional-unit" title="Link to this heading">¶</a></h2>
<p>The <cite>Conditional Unit</cite> checks if a 16-bit binary number is:</p>
<blockquote>
<div><ul class="simple">
<li><p>Less than zero</p></li>
<li><p>Greater than zero</p></li>
<li><p>Equal to zero</p></li>
</ul>
</div></blockquote>
<p>or any combination in-between. Whether or not the condition is
true will influence the <a class="reference internal" href="memory.html#program-counter"><span class="std std-ref">Program Counter</span></a> starting value (if
the value is 1 then the current address at <cite>reigster ‘a’</cite> is used
as the starting value).</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">A 16-bit cpu in Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Logic Units (units.py)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#logic-gates">Logic Gates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nand-gate">NAND GATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inverted-gate">INVERTED GATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#and-gate">AND GATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#or-gate">OR GATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exclusive-or-gate-xor">EXCLUSIVE OR GATE (XOR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bit-variants">16-Bit Variants</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#half-adder">Half-Adder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-adder">Full-Adder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multi-bit-adder">Multi-Bit-Adder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bit-adder">16-Bit-Adder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bit-incrementer">16-Bit-Incrementer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bit-subtracter">16-Bit-Subtracter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#switches">Switches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logic-unit">Logic Unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arithmetic-unit">Arithmetic Unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alu">ALU</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conditional-unit">Conditional Unit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">Memory (memory.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processor.html">Processor (processor.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">Main (main.py)</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">16-bit CPU built in Python documentation</a></li>
      <li>Next: <a href="memory.html" title="next chapter">Memory (memory.py)</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Neo Sahadeo.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/units.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>